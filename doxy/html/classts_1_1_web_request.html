<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TSDuck: ts::WebRequest Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxy-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img src="tsduck-32.png"/></td>
   <td id="projectalign"><span id="projectname">TSDuck</span>
    <span id="projectnumber">Version 3.8</span>
    <span id="projectbrief">(TSDuck - The MPEG Transport Stream Toolkit)</span>
   </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classts_1_1_web_request.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classts_1_1_web_request-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ts::WebRequest Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Perform a simple Web request (HTTP, HTTPS, FTP).  
 <a href="classts_1_1_web_request.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aaf2d466d31010d32fd9968fdb6e84ea3"><td class="memItemLeft" align="right" valign="top">typedef std::multimap&lt; <a class="el" href="classts_1_1_u_string.html">UString</a>, <a class="el" href="classts_1_1_u_string.html">UString</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#aaf2d466d31010d32fd9968fdb6e84ea3">HeadersMap</a></td></tr>
<tr class="memdesc:aaf2d466d31010d32fd9968fdb6e84ea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Representation of reponse headers.  <a href="#aaf2d466d31010d32fd9968fdb6e84ea3">More...</a><br /></td></tr>
<tr class="separator:aaf2d466d31010d32fd9968fdb6e84ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aee806127c931f9780fe6c67ac92610a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#aee806127c931f9780fe6c67ac92610a9">WebRequest</a> (<a class="el" href="classts_1_1_report.html">Report</a> &amp;report)</td></tr>
<tr class="memdesc:aee806127c931f9780fe6c67ac92610a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#aee806127c931f9780fe6c67ac92610a9">More...</a><br /></td></tr>
<tr class="separator:aee806127c931f9780fe6c67ac92610a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b120195c479efe48fc52c8a2d92165b"><td class="memItemLeft" align="right" valign="top"><a id="a0b120195c479efe48fc52c8a2d92165b"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a0b120195c479efe48fc52c8a2d92165b">~WebRequest</a> ()</td></tr>
<tr class="memdesc:a0b120195c479efe48fc52c8a2d92165b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a0b120195c479efe48fc52c8a2d92165b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5839cb4277a95f3019aeb766745baa36"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a5839cb4277a95f3019aeb766745baa36">contentSize</a> () const</td></tr>
<tr class="memdesc:a5839cb4277a95f3019aeb766745baa36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size in bytes of the downloaded content.  <a href="#a5839cb4277a95f3019aeb766745baa36">More...</a><br /></td></tr>
<tr class="separator:a5839cb4277a95f3019aeb766745baa36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61084c26f8a3ffcac30d987de229563b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a61084c26f8a3ffcac30d987de229563b">downloadBinaryContent</a> (<a class="el" href="classts_1_1_byte_block.html">ByteBlock</a> &amp;data)</td></tr>
<tr class="memdesc:a61084c26f8a3ffcac30d987de229563b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download the content of the URL as binary data.  <a href="#a61084c26f8a3ffcac30d987de229563b">More...</a><br /></td></tr>
<tr class="separator:a61084c26f8a3ffcac30d987de229563b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62880d204f11598f6422615b7f276cfc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a62880d204f11598f6422615b7f276cfc">downloadFile</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;fileName)</td></tr>
<tr class="memdesc:a62880d204f11598f6422615b7f276cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download the content of the URL in a file.  <a href="#a62880d204f11598f6422615b7f276cfc">More...</a><br /></td></tr>
<tr class="separator:a62880d204f11598f6422615b7f276cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a04b78203bab58cd27b9b9165d41bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#aa3a04b78203bab58cd27b9b9165d41bf">downloadTextContent</a> (<a class="el" href="classts_1_1_u_string.html">UString</a> &amp;text)</td></tr>
<tr class="memdesc:aa3a04b78203bab58cd27b9b9165d41bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Download the content of the URL as text.  <a href="#aa3a04b78203bab58cd27b9b9165d41bf">More...</a><br /></td></tr>
<tr class="separator:aa3a04b78203bab58cd27b9b9165d41bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f64822f4fc05d52da9383549888a59e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classts_1_1_u_string.html">UString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a1f64822f4fc05d52da9383549888a59e">finalURL</a> () const</td></tr>
<tr class="memdesc:a1f64822f4fc05d52da9383549888a59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the final URL of the actual download operation.  <a href="#a1f64822f4fc05d52da9383549888a59e">More...</a><br /></td></tr>
<tr class="separator:a1f64822f4fc05d52da9383549888a59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75ef9622ef0769b84ecbaa40ffd0ea0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#ae75ef9622ef0769b84ecbaa40ffd0ea0">getHeaders</a> (<a class="el" href="classts_1_1_web_request.html#aaf2d466d31010d32fd9968fdb6e84ea3">HeadersMap</a> &amp;headers) const</td></tr>
<tr class="memdesc:ae75ef9622ef0769b84ecbaa40ffd0ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all response headers.  <a href="#ae75ef9622ef0769b84ecbaa40ffd0ea0">More...</a><br /></td></tr>
<tr class="separator:ae75ef9622ef0769b84ecbaa40ffd0ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a4f70842bbc8c967b54c41da18921b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classts_1_1_u_string.html">UString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#ad7a4f70842bbc8c967b54c41da18921b">header</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;name) const</td></tr>
<tr class="memdesc:ad7a4f70842bbc8c967b54c41da18921b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of one header.  <a href="#ad7a4f70842bbc8c967b54c41da18921b">More...</a><br /></td></tr>
<tr class="separator:ad7a4f70842bbc8c967b54c41da18921b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5ce8794cd545a223513f7a4f09e34f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#afc5ce8794cd545a223513f7a4f09e34f">httpStatus</a> () const</td></tr>
<tr class="memdesc:afc5ce8794cd545a223513f7a4f09e34f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the HTTP status code (200, 404, etc).  <a href="#afc5ce8794cd545a223513f7a4f09e34f">More...</a><br /></td></tr>
<tr class="separator:afc5ce8794cd545a223513f7a4f09e34f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28939ee931a9e5ac89f51fdcf32cb7df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classts_1_1_u_string.html">UString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a28939ee931a9e5ac89f51fdcf32cb7df">originalURL</a> () const</td></tr>
<tr class="memdesc:a28939ee931a9e5ac89f51fdcf32cb7df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the original URL, as set by <a class="el" href="classts_1_1_web_request.html#a9be02273cd268c2fd4e87116516288f7" title="Set the URL to get. ">setURL()</a>.  <a href="#a28939ee931a9e5ac89f51fdcf32cb7df">More...</a><br /></td></tr>
<tr class="separator:a28939ee931a9e5ac89f51fdcf32cb7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e08744ca1793544308fc9a83ce09d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a95e08744ca1793544308fc9a83ce09d4">setAutoRedirect</a> (bool on)</td></tr>
<tr class="memdesc:a95e08744ca1793544308fc9a83ce09d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable the automatic redirection of HTTP requests.  <a href="#a95e08744ca1793544308fc9a83ce09d4">More...</a><br /></td></tr>
<tr class="separator:a95e08744ca1793544308fc9a83ce09d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaafd7e7dbf8c699c965840def82bb00f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#aaafd7e7dbf8c699c965840def82bb00f">setProxyHost</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;host, uint16_t port)</td></tr>
<tr class="memdesc:aaafd7e7dbf8c699c965840def82bb00f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the optional proxy host and port for this request.  <a href="#aaafd7e7dbf8c699c965840def82bb00f">More...</a><br /></td></tr>
<tr class="separator:aaafd7e7dbf8c699c965840def82bb00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5859a9c92e5b2c5dc1dbb6c8713b494"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#ad5859a9c92e5b2c5dc1dbb6c8713b494">setProxyUser</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;user, const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;password)</td></tr>
<tr class="memdesc:ad5859a9c92e5b2c5dc1dbb6c8713b494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the optional proxy authentication for this request.  <a href="#ad5859a9c92e5b2c5dc1dbb6c8713b494">More...</a><br /></td></tr>
<tr class="separator:ad5859a9c92e5b2c5dc1dbb6c8713b494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be02273cd268c2fd4e87116516288f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a9be02273cd268c2fd4e87116516288f7">setURL</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;url)</td></tr>
<tr class="memdesc:a9be02273cd268c2fd4e87116516288f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the URL to get.  <a href="#a9be02273cd268c2fd4e87116516288f7">More...</a><br /></td></tr>
<tr class="separator:a9be02273cd268c2fd4e87116516288f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7b48cc0ea0a6b6d81c68e690fd3291"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a8c7b48cc0ea0a6b6d81c68e690fd3291">setUserAgent</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;name)</td></tr>
<tr class="memdesc:a8c7b48cc0ea0a6b6d81c68e690fd3291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the user agent name to use in HTTP headers.  <a href="#a8c7b48cc0ea0a6b6d81c68e690fd3291">More...</a><br /></td></tr>
<tr class="separator:a8c7b48cc0ea0a6b6d81c68e690fd3291"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a14dc7f253abda523de4621a7086a4567"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classts_1_1_u_string.html">UString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a14dc7f253abda523de4621a7086a4567">GetLibraryVersion</a> ()</td></tr>
<tr class="memdesc:a14dc7f253abda523de4621a7086a4567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the version of the underlying HTTP library.  <a href="#a14dc7f253abda523de4621a7086a4567">More...</a><br /></td></tr>
<tr class="separator:a14dc7f253abda523de4621a7086a4567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40ac658760c87e171066c5def9edbc1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#ac40ac658760c87e171066c5def9edbc1">SetDefaultProxyHost</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;host, uint16_t port)</td></tr>
<tr class="memdesc:ac40ac658760c87e171066c5def9edbc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default proxy host and port for all subsequent requests.  <a href="#ac40ac658760c87e171066c5def9edbc1">More...</a><br /></td></tr>
<tr class="separator:ac40ac658760c87e171066c5def9edbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba41e829be4d15d0be86cb34c3d1ae3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classts_1_1_web_request.html#a3ba41e829be4d15d0be86cb34c3d1ae3">SetDefaultProxyUser</a> (const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;user, const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;password)</td></tr>
<tr class="memdesc:a3ba41e829be4d15d0be86cb34c3d1ae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default proxy authentication for all subsequent requests.  <a href="#a3ba41e829be4d15d0be86cb34c3d1ae3">More...</a><br /></td></tr>
<tr class="separator:a3ba41e829be4d15d0be86cb34c3d1ae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Perform a simple Web request (HTTP, HTTPS, FTP). </p>
<p>On UNIX systems, the implementation uses libcurl. On Windows systems, the implementation uses Microsoft Wininet. We could have used libcurl on Windows but building it was a pain...</p>
<p>The URL and optional proxy settings must be set before any download operation. By default, no proxy is used. On Windows, if no proxy is set, the default system proxy is used.</p>
<p>The response headers are available after a successful download operation. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aaf2d466d31010d32fd9968fdb6e84ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2d466d31010d32fd9968fdb6e84ea3">&#9670;&nbsp;</a></span>HeadersMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::multimap&lt;<a class="el" href="classts_1_1_u_string.html">UString</a>,<a class="el" href="classts_1_1_u_string.html">UString</a>&gt; <a class="el" href="classts_1_1_web_request.html#aaf2d466d31010d32fd9968fdb6e84ea3">ts::WebRequest::HeadersMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Representation of reponse headers. </p>
<p>The keys of the map are the header names. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aee806127c931f9780fe6c67ac92610a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee806127c931f9780fe6c67ac92610a9">&#9670;&nbsp;</a></span>WebRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ts::WebRequest::WebRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classts_1_1_report.html">Report</a> &amp;&#160;</td>
          <td class="paramname"><em>report</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">report</td><td>Where to report errors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9be02273cd268c2fd4e87116516288f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9be02273cd268c2fd4e87116516288f7">&#9670;&nbsp;</a></span>setURL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ts::WebRequest::setURL </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the URL to get. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">url</td><td>The complete URL to fetch. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a28939ee931a9e5ac89f51fdcf32cb7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28939ee931a9e5ac89f51fdcf32cb7df">&#9670;&nbsp;</a></span>originalURL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classts_1_1_u_string.html">UString</a> ts::WebRequest::originalURL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the original URL, as set by <a class="el" href="classts_1_1_web_request.html#a9be02273cd268c2fd4e87116516288f7" title="Set the URL to get. ">setURL()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The original URL. </dd></dl>

</div>
</div>
<a id="a1f64822f4fc05d52da9383549888a59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f64822f4fc05d52da9383549888a59e">&#9670;&nbsp;</a></span>finalURL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classts_1_1_u_string.html">UString</a> ts::WebRequest::finalURL </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the final URL of the actual download operation. </p>
<p>It can be different from <a class="el" href="classts_1_1_web_request.html#a28939ee931a9e5ac89f51fdcf32cb7df" title="Get the original URL, as set by setURL(). ">originalURL()</a> if some HTTP redirections were performed. When called before a download operation, return <a class="el" href="classts_1_1_web_request.html#a28939ee931a9e5ac89f51fdcf32cb7df" title="Get the original URL, as set by setURL(). ">originalURL()</a>.</p>
<p>If redirections are disabled using <a class="el" href="classts_1_1_web_request.html#a95e08744ca1793544308fc9a83ce09d4" title="Enable or disable the automatic redirection of HTTP requests. ">setAutoRedirect()</a> and the site returned a redirection, <a class="el" href="classts_1_1_web_request.html#a1f64822f4fc05d52da9383549888a59e" title="Get the final URL of the actual download operation. ">finalURL()</a> returns the redirected URL.</p>
<dl class="section return"><dt>Returns</dt><dd>The final / redirected URL. </dd></dl>

</div>
</div>
<a id="aaafd7e7dbf8c699c965840def82bb00f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaafd7e7dbf8c699c965840def82bb00f">&#9670;&nbsp;</a></span>setProxyHost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ts::WebRequest::setProxyHost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the optional proxy host and port for this request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Proxy host name or address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Proxy port number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad5859a9c92e5b2c5dc1dbb6c8713b494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5859a9c92e5b2c5dc1dbb6c8713b494">&#9670;&nbsp;</a></span>setProxyUser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ts::WebRequest::setProxyUser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the optional proxy authentication for this request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">user</td><td>Proxy user name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">password</td><td>Proxy user's password. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac40ac658760c87e171066c5def9edbc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40ac658760c87e171066c5def9edbc1">&#9670;&nbsp;</a></span>SetDefaultProxyHost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ts::WebRequest::SetDefaultProxyHost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the default proxy host and port for all subsequent requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Proxy host name or address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Proxy port number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3ba41e829be4d15d0be86cb34c3d1ae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba41e829be4d15d0be86cb34c3d1ae3">&#9670;&nbsp;</a></span>SetDefaultProxyUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ts::WebRequest::SetDefaultProxyUser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the default proxy authentication for all subsequent requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">user</td><td>Proxy user name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">password</td><td>Proxy user's password. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c7b48cc0ea0a6b6d81c68e690fd3291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7b48cc0ea0a6b6d81c68e690fd3291">&#9670;&nbsp;</a></span>setUserAgent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ts::WebRequest::setUserAgent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the user agent name to use in HTTP headers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>The user agent name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95e08744ca1793544308fc9a83ce09d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e08744ca1793544308fc9a83ce09d4">&#9670;&nbsp;</a></span>setAutoRedirect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ts::WebRequest::setAutoRedirect </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable or disable the automatic redirection of HTTP requests. </p>
<p>This option in active by default. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">on</td><td>If true, allow automatic redirection of HTTP requests. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61084c26f8a3ffcac30d987de229563b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61084c26f8a3ffcac30d987de229563b">&#9670;&nbsp;</a></span>downloadBinaryContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ts::WebRequest::downloadBinaryContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classts_1_1_byte_block.html">ByteBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download the content of the URL as binary data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>The content of the URL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error. </dd></dl>

</div>
</div>
<a id="aa3a04b78203bab58cd27b9b9165d41bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a04b78203bab58cd27b9b9165d41bf">&#9670;&nbsp;</a></span>downloadTextContent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ts::WebRequest::downloadTextContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download the content of the URL as text. </p>
<p>The downloaded text is converted from UTF-8. End of lines are normalized as LF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">text</td><td>The content of the URL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error. </dd></dl>

</div>
</div>
<a id="a62880d204f11598f6422615b7f276cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62880d204f11598f6422615b7f276cfc">&#9670;&nbsp;</a></span>downloadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ts::WebRequest::downloadFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Download the content of the URL in a file. </p>
<p>No transformation is applied to the data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileName</td><td>Name of the file to create. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error. </dd></dl>

</div>
</div>
<a id="ae75ef9622ef0769b84ecbaa40ffd0ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae75ef9622ef0769b84ecbaa40ffd0ea0">&#9670;&nbsp;</a></span>getHeaders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ts::WebRequest::getHeaders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classts_1_1_web_request.html#aaf2d466d31010d32fd9968fdb6e84ea3">HeadersMap</a> &amp;&#160;</td>
          <td class="paramname"><em>headers</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all response headers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">headers</td><td>A multimap of all response headers. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad7a4f70842bbc8c967b54c41da18921b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a4f70842bbc8c967b54c41da18921b">&#9670;&nbsp;</a></span>header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classts_1_1_u_string.html">UString</a> ts::WebRequest::header </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classts_1_1_u_string.html">UString</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value of one header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Header name, case sensitive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Header value or an empty string when the header is not found. If the header is present more than once, the first value is returned. </dd></dl>

</div>
</div>
<a id="a5839cb4277a95f3019aeb766745baa36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5839cb4277a95f3019aeb766745baa36">&#9670;&nbsp;</a></span>contentSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t ts::WebRequest::contentSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the size in bytes of the downloaded content. </p>
<dl class="section return"><dt>Returns</dt><dd>Size in bytes of the downloaded content. </dd></dl>

</div>
</div>
<a id="afc5ce8794cd545a223513f7a4f09e34f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc5ce8794cd545a223513f7a4f09e34f">&#9670;&nbsp;</a></span>httpStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ts::WebRequest::httpStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the HTTP status code (200, 404, etc). </p>
<dl class="section return"><dt>Returns</dt><dd>The HTTP status code. </dd></dl>

</div>
</div>
<a id="a14dc7f253abda523de4621a7086a4567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14dc7f253abda523de4621a7086a4567">&#9670;&nbsp;</a></span>GetLibraryVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classts_1_1_u_string.html">UString</a> ts::WebRequest::GetLibraryVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the version of the underlying HTTP library. </p>
<dl class="section return"><dt>Returns</dt><dd>The library version. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ts_web_request_8h.html">tsWebRequest.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.12-->
<!-- start footer part -->
</body>
</html>
